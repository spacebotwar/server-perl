<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Iain C Docherty - API Documents</title>
  <meta name="author" content="Iain C Docherty" />
  <meta name="description" content="The blog of Iain C Docherty" />
  <link rel="canonical" href="http://spacebotwar.com:4000/=" />

  <link href="//fonts.googleapis.com/css?family=Open+Sans:600,800" rel="stylesheet" type="text/css">
  <link rel="shortcut icon" href="http://spacebotwar.com:4000/favicon.png">
  <link rel="alternate" type="application/rss+xml" title="Iain C Docherty" href="http://spacebotwar.com:4000/atom.xml" />

  <link rel="stylesheet" href="http://spacebotwar.com:4000/assets/css/all.css">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.min.css">
</head>
<body>
  <div class="container">
    <div class="four columns sidebar">
      <nav>
  <a href="/">
    <img src="/sp_ship.png" id="logo" alt="Site logo"/>
  </a>
  <h2><a href="/">SpaceBotWar</a>.</h2>
  <hr/>
  <h2>
  
    <a href="/api">API Documents</a>
  
  
    
      <h3><a href="/api/game">Game</a></h3>
    
  
  </h2>
  <hr/>
  <h2><a href="/blog">Blog posts</a></h2>
  <hr/>
  <h2><a href="/about">About</a></h2>
  <hr/>
  <h2><a href="/faq">FAQ</a></h2>
  <hr/>
  <div>
    <div id="social">
      Follow me:
<div id="stalker">
  
  <a title="icydee on Github" href="https://github.com/icydee">
    <i class="fa fa-github-square"></i>
  </a>
  

  

  

  

  

  

  
  <a title="Iain C Docherty on Facebook" href="https://facebook.com/icydee">
    <i class="fa fa-facebook-square"></i>
  </a>
  

  

  
  <a title="Iain C Docherty on LinkedIn" href="https://www.linkedin.com/in/icydee">
    <i class="fa fa-linkedin-square"></i>
  </a>
  

  

  <a title="RSS feed" id="rss" href="/atom.xml">
    <i class="fa fa-rss-square"></i>
  </a>
</div>

    </div>
  </div>
  </ul>
</nav>

    </div>

    <div class="eleven columns content">
      Game Lobby
==========

All methods in this section can be carried out by a connection to the **game/lobby** route.

---
Sessions
========

A session ID is used to identify a client to the server. A session ID is provided by the server
and once given it should continue to be used, even if you log out and back in again. This
enables the server to retain your settings.

A session may 'time-out' (after a few hours) but even so, you should still keep the same
session ID.

In the following API calls, if it specifies a session ID then it is mandatory. If you don't
supply a session ID the call will be rejected.



---
Server : lobby
==============

On making a Web Socket connection, the server will send a **lobby** message indicating the
current status of the room. It may also send an update whenever the room status changes.

<div class="highlight"><pre><code class="json"><span class="p">{</span>
    <span class="nt">&quot;code&quot;</span>          <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;message&quot;</span>       <span class="p">:</span> <span class="s2">&quot;Welcome to the Game Lobby&quot;</span><span class="p">,</span>
    <span class="nt">&quot;data&quot;</span>          <span class="p">:</span> <span class="s2">&quot;lobby&quot;</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>

### code

The numeric code representing the status of the **lobby** where **0** represents success
and any other value indicates a fault.

### message

A human readable message, for example a message to the effect that the server is off-line.

## data

Supplimentary data, for example the time at which the server is due back on line.




---
Client : get_session
====================

Get a new session ID. Note you should only do this if you don't already have a session ID.
If you do have one (even if it is timed out) you should reuse it.

<div class="highlight"><pre><code class="json"><span class="p">{</span>
    <span class="nt">&quot;msg_id&quot;</span>        <span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>

### msg_id (optional)

An **ID** to identify this message. If used the server reply will contain the same message
ID. This can be useful if you wish to link the server response to the client request.

### RESPONSE

The server will respond with a **Server : get_session** message.




---
Server : get_session
====================

Server response to the **Client : get_session** request

<div class="highlight"><pre><code class="json"><span class="p">{</span>
    <span class="nt">&quot;code&quot;</span>          <span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;message&quot;</span>       <span class="p">:</span> <span class="s2">&quot;session&quot;</span><span class="p">,</span>
    <span class="nt">&quot;session&quot;</span>       <span class="p">:</span> <span class="s2">&quot;1234-ABCD-5678-EF01-000000&quot;</span><span class="p">,</span>
    <span class="nt">&quot;msg_id&quot;</span>        <span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>



      <div class="footer">
        <div class="disclaimer">
  

  <p>
    Â© Iain C Docherty, 2013 &mdash; 
  </p>
</div>

      </div>
    </div>
  </div>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-xxxx-x']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</body>
</html>
